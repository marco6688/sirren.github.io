---
title: Redis-面试题整理
date: 2019-08-11 13:51:18
categories:
- redis
tags:
- redis
---

#redis面试整理
---

## 什么是redis

redis本质上是一个key->value的内存数据库，整个数据统统加到内存中进行操作，定期通过异步操作把数据flush到硬盘上进行操作

## redis的全名是什么

REmote DIctionary Server

## redis的优缺点

1. redis是纯内存操作，性能十分出色，每秒可以处理10w次的读写操作
2. 支持多重数据类型，单个value的最大限制是1GB
3. 可以设置key的过期时间
4. redis的主要缺点是数据容量受到物理内存的限制，不能用作海量数据的高性能读写。因此redis的适用场景主要局限在较小数据量的高兴鞥操作和运算上

## redis与memcache的区别

1. memcache支持数据类型单一，redis支持多重数据类型
2. redis的数据比memcache快的多
3. redis支持数据持久化
4. redis2.0之后构建了自己的vm机制，这样可以省去调用系统函数的时间

## reids支持哪些数据类型

字符串，列表，集合，有序集合，哈希表

## redis主要占用的物理资源

内存

## redis 的数据淘汰策略

noeviction 返回错误当内存限制达到并返回客户端尝试执行会让更多内存被使用的命令（大部分的写入命令，但del和几个例外）

allkeys-lru 尝试收回最少使用的键，使得新添加的数据有空间存放
volatile-lru 上市收回最少使用的键，但仅限于在过期的集合的键，使得新添加的数据有空间存放
allkeys-random 回收随机的键，使得新添加的数据有空间存放
volatile-random 回收随机的键，使得新添加的数据有空间存的，仅限于在过期集合的键
volatile-ttl 回收过期的键，并且优先回收存活时间较短的键，使得新添加的数据有空间存放

## redis为什么没有windows版本

因为linux版本已经相当稳定，而且用户量也很大，无需开发windows版本，而且会带来兼容性的问题

## 字符串类型的值能存储的最大容量

redis得个key的大小是512M

## redis支持多少个key

Redis最多可以处理2个32次方键，并且在实践中经过测试，每个实例至少处理2.5亿个键。

每个哈希，列表，集合和有序集合可以容纳2 32个元素。

换句话说，您的限制很可能是系统中的可用内存。

## redis是单线程的，如何利用多核cpu

CPU不会成为redis的瓶颈，因为redis通常是内存或者网络绑定。使用流水线在一般的的linux系统上每秒可以提供100万个请求，如果应用程序主要使用O(N)或者O(log(N))命令，则不会使用太多的CPU

但是为了最大化CPU的使用率，可以启动多个实例，将他们视为不同的服务器，在某些时候可能还不够，这时候应该考虑进行分片

在redis4.0版本中引入多线程，这仅限于后台删除对象

## 为什么要要把所有的数据放到内存中

redis为了更快的读写速度将数据全部都读到了内存中，并通过异步的方式将数据写入磁盘

所以redis局域更快速的数据持久化的特性，如果不放到内存中，磁盘IO将会严重影响到redis的性能

## redis集群方案

1. 