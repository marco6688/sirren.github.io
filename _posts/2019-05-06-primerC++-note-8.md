---
title: PrimerC++-顺序容器
date: 2019-05-06 10:40:12
categories:
- 读书笔记
tags:
- 读书笔记
- C++
---

一个容器就是一些特定类型对象的额集合，顺序容器为程序员提供了控制元素存储和访问顺序的能力。这种能力不依赖于元素的值，而是与元素假如容器时的位置相对应

# 顺序容器概述

表中列出了标准库中的顺序容器，所有顺序容器都提供了款速顺序访问元素的能力，但是这些容器在以下方面都有不同的性能折中：

* 向容器添加或删除元素的代价
* 非顺序访问容器中的元素的代价

![顺序容器类型](/assert/images/QQ20190506-145811@2x.png)

## 如何选择使用哪种容器

* 除非你有很好的理由选择其他容器，否则一律用vector
* 程序要求随机访问，用vector或deque
* 程序需要在中间插入或删除元素，用list或forward_list
* 程序只在头尾插入删除元素，用deque 

# 容器库概览

容器类型上的所有操作形成了一种层次：

* 某些操作是所有容器都提供的
* 另外一些操作仅针对顺序容器、关联容器和无序容器
* 还有一小部分操作只适用于一小部分容器

以下介绍**所有容器**都是用的操作

每个容器都定义在一个头文件中，文件名与类型名称相同

容器均定义为模板类，我们必须提供额外的信息来生成特定的容器类型

> list<Sales_data>	//保存Sales_data对象的list
> deque<double>		//保存double类型的deque

### 容器对可以保存的元素类型限制

容器可以保存任意类型的元素，当然也可以是他自己

>vector<vector<string>> lines; //vector的vector
>此处的lines是一个vectoe，其元素类型是string的vector

我们要保存一个类类型对象，而这个类没有默认构造函数，我们需要给他传递一个元素初始化器

>架设noDefault是一个没有默认构造函数的类型
>vector<noDefault> v1(10,init);	//正确，提供了元素初始器
>vector<noDefault> v1(10);			//错误，只提供了数量

![容器操作](/assert/images/QQ20190506-152338@2x.png)
![容器操作](/assert/images/QQ20190506-152433@2x.png)

## 迭代器

迭代器有着公共的接口：如果一个迭代器提供某个操作，那么所提供的相同操作的迭代器对整个操作的实现方式实现相同的

forward_list不支持递减操作，因为他是单向链表

### 迭代器范围

之前说过，迭代器范围是从首元素开始，到尾元素的下一个位置结束，这种元素范围被称为**左闭合区间**，数学公式：
>[begin,end)
>表示begin开始，end之前一个位置结束。迭代器必须是同一个容器，end可以和begin指向同一个位置，但是不能指向begin之前

## 容器类型成员










